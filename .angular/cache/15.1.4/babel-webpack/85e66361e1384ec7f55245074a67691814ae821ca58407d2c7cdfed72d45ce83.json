{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/ratings-movies.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"../../pipes/avatar-img.pipe\";\nimport * as i5 from \"../../pipes/image-url.pipe\";\nfunction RatingsMoviesComponent_ion_item_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 2)(1, \"ion-label\")(2, \"code\");\n    i0.ɵɵtext(3, \"No hay rese\\u00F1as todav\\u00EDa\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction RatingsMoviesComponent_ion_item_6_img_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 5);\n    i0.ɵɵpipe(1, \"avatarImg\");\n  }\n  if (rf & 2) {\n    const item_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"src\", i0.ɵɵpipeBind1(1, 1, item_r2.user.avatar), i0.ɵɵsanitizeUrl);\n  }\n}\nfunction RatingsMoviesComponent_ion_item_6_img_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 5);\n    i0.ɵɵpipe(1, \"imageUrl\");\n  }\n  if (rf & 2) {\n    const item_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"src\", i0.ɵɵpipeBind2(1, 1, item_r2.user.image, \"Profiles\"), i0.ɵɵsanitizeUrl);\n  }\n}\nfunction RatingsMoviesComponent_ion_item_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-avatar\", 3);\n    i0.ɵɵtemplate(2, RatingsMoviesComponent_ion_item_6_img_2_Template, 2, 3, \"img\", 4);\n    i0.ɵɵtemplate(3, RatingsMoviesComponent_ion_item_6_img_3_Template, 2, 4, \"img\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ion-label\")(5, \"h2\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", item_r2.user.avatar);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r2.user.image);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r2.user.nickname);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.comment);\n  }\n}\nexport let RatingsMoviesComponent = /*#__PURE__*/(() => {\n  class RatingsMoviesComponent {\n    constructor(ratingsMoviesService) {\n      this.ratingsMoviesService = ratingsMoviesService;\n      // Listado de ratings movies\n      this.ratingsMovies = [];\n      // Pagination\n      this.pageSize = 10;\n      this.pageNumber = 1;\n      this.totalCount = 0;\n    }\n    ngOnInit() {\n      this.loadRatingsMovies();\n    }\n    loadRatingsMovies() {\n      const filters = {\n        pageSize: this.pageSize,\n        pageNumber: this.pageNumber,\n        movieId: this.movieId\n      };\n      this.ratingsMoviesService.getAll(filters).subscribe(({\n        data,\n        meta\n      }) => {\n        this.totalCount = meta.totalCount;\n        this.ratingsMovies.push(...data);\n      });\n    }\n  }\n  RatingsMoviesComponent.ɵfac = function RatingsMoviesComponent_Factory(t) {\n    return new (t || RatingsMoviesComponent)(i0.ɵɵdirectiveInject(i1.RatingsMoviesService));\n  };\n  RatingsMoviesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RatingsMoviesComponent,\n    selectors: [[\"app-ratings-movies\"]],\n    inputs: {\n      movieId: \"movieId\"\n    },\n    decls: 7,\n    vars: 2,\n    consts: [[\"lines\", \"none\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [\"lines\", \"none\"], [\"slot\", \"start\"], [3, \"src\", 4, \"ngIf\"], [3, \"src\"]],\n    template: function RatingsMoviesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-card\")(1, \"ion-card-content\")(2, \"ion-list\")(3, \"ion-list-header\");\n        i0.ɵɵtext(4, \"Rese\\u00F1as\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(5, RatingsMoviesComponent_ion_item_5_Template, 4, 0, \"ion-item\", 0);\n        i0.ɵɵtemplate(6, RatingsMoviesComponent_ion_item_6_Template, 9, 4, \"ion-item\", 1);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.totalCount === 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.ratingsMovies);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i3.IonAvatar, i3.IonCard, i3.IonCardContent, i3.IonItem, i3.IonLabel, i3.IonList, i3.IonListHeader, i4.AvatarImgPipe, i5.ImageUrlPipe]\n  });\n  return RatingsMoviesComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}